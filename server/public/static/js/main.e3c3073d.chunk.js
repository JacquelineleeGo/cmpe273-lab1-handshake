(this.webpackJsonpclientside=this.webpackJsonpclientside||[]).push([[0],{149:function(e,t,a){},218:function(e,t,a){e.exports=a(433)},309:function(e,t,a){},390:function(e,t,a){},432:function(e,t,a){},433:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),l=a.n(c),i=a(4),o=a(33),u=Object(o.b)(),s=a(45),m=a(25),p=a(434),d=(a(149),p.a.Content),f=p.a.Footer;function b(e){return r.a.createElement(p.a,{className:"basicLayout--container"},r.a.createElement(d,{className:"basicLayout--content"},r.a.createElement("div",{className:"site-layout-content"},e.children)),r.a.createElement(f,{className:"basicLayout--footer"}))}var E=a(9),y=a(23),h=a(438),v=a(441),j=a(31),g=a(32),O=a(15),w=a(5),x=a.n(w),k=a(16),I=a(36),_=a(28),S=a(111),P=a.n(S),F=a(189),C=a.n(F),q=a(442);var T=C.a.create({baseURL:"/api/",withCredentials:!0});T.interceptors.request.use((function(e){return e.headers.Authorization="Bearer "+localStorage.getItem("handShakeToken"),e}),(function(e){Promise.reject(e)})),T.interceptors.response.use((function(e){var t=e.data;if(t.token&&localStorage.setItem("handShakeToken",t.token),t.error)throw t.data;return t.data}),(function(e){throw q.a.error("network error::"+e.message),401===e.response.status&&u.push("/user/login?redirect=".concat(window.location)),e}));var N=T,L=function(e){return N.post("/user/register",e)},B=function(e){return N.post("/user/login",e)},V={loading:!1,error:null,id:0,username:"",email:""},A=Object(I.b)({name:"user",initialState:V,reducers:{asyncStart:function(e){return Object(E.a)({},e,{loading:!0,error:null})},asyncFinish:function(e){return Object(E.a)({},e,{loading:!1,error:null})},asyncError:function(e){return Object(E.a)({},e,{loading:!1,error:null})},registerSuccess:function(e,t){return Object(E.a)({},e,{},t.payload)},loginSuccess:function(e,t){return Object(E.a)({},e,{},t.payload)},initSuccess:function(e,t){return Object(E.a)({},e,{},t.payload)},clearUserInfo:function(e){return V}}}),G=A.actions,H=A.reducer,U=G.asyncStart,J=G.asyncFinish,K=G.asyncError,R=G.registerSuccess,Y=G.loginSuccess,W=G.initSuccess,z={init:function(e){return function(){var e=Object(k.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(U()),e.prev=1,e.next=4,N.get("/user");case 4:a=e.sent,t(J()),t(W(a)),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),t(K(e.t0)),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},register:function(e){return function(){var t=Object(k.a)(x.a.mark((function t(a){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(U()),t.prev=1,t.next=4,L(e);case 4:n=t.sent,a(J()),a(R(n)),a(Object(_.d)("/user/login")),t.next=14;break;case 10:throw t.prev=10,t.t0=t.catch(1),a(K(t.t0)),t.t0;case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},login:function(e){return function(){var t=Object(k.a)(x.a.mark((function t(a){var n,r,c,l;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(U()),t.prev=1,t.next=4,B(e);case 4:n=t.sent,a(J()),a(Y(n)),r=u.location,c=P.a.parse(r.search.slice(1)),l=c.redirect,console.log("redirect:",l),l?window.location.href=l:a(Object(_.d)("/home")),t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(1),a(K(t.t0)),t.t0;case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()}},D=(a(309),{labelCol:{span:8},wrapperCol:{span:16}}),M={wrapperCol:{offset:8,span:16}},Q=Object(i.c)((function(e){var t=e.user;return Object(E.a)({},t)}),(function(e){return{actions:Object(g.bindActionCreators)(Object(E.a)({},z),e)}}))((function(e){var t=h.a.useForm(),a=Object(y.a)(t,1)[0];return r.a.createElement("div",{className:"login-form"},r.a.createElement(h.a,Object.assign({form:a},D,{name:"basic",initialValues:{remember:!0},onFinish:function(t){console.log("Success:",t),e.actions.login(t)},onFinishFailed:function(e){console.log("Failed:",e)}}),r.a.createElement(h.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(v.a.Password,null)),r.a.createElement(h.a.Item,M,r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Login"),r.a.createElement("div",null,"Or ",r.a.createElement(O.a,{to:"/user/register"},"register now!")))))})),X=a(119),Z=a(95),$=a(446),ee=(a(390),{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),te={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},ae=function(){var e=h.a.useForm(),t=Object(y.a)(e,1)[0],a=Object(i.d)();return r.a.createElement("div",{className:"register-form"},r.a.createElement(h.a,Object.assign({},ee,{form:t,name:"register",onFinish:function(e){console.log("Received values of form: ",e),a(z.register(e))},initialValues:{},scrollToFirstError:!0}),r.a.createElement(h.a.Item,{name:"username",label:r.a.createElement("span",null,"Username\xa0",r.a.createElement(X.a,{title:"What do you want others to call you?"},r.a.createElement($.a,null))),rules:[{required:!0,message:"Please input your nickname!",whitespace:!0}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{label:"Role",name:"role"},r.a.createElement(Z.a,null,r.a.createElement(Z.a.Option,{value:"student"},"student"),r.a.createElement(Z.a.Option,{value:"company"},"company"))),r.a.createElement(h.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0},r.a.createElement(v.a.Password,null)),r.a.createElement(h.a.Item,{name:"passwordConfirmation",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(v.a.Password,null)),r.a.createElement(h.a.Item,te,r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Register"),r.a.createElement("div",null,"Or ",r.a.createElement(O.a,{to:"/user/login"},"go to login!")))))},ne=function(){var e=Object(i.d)();return Object(n.useEffect)((function(){localStorage.removeItem("handShakeToken"),e(G.clearUserInfo()),e(Object(_.d)("/user/login"))}),[e]),r.a.createElement("div",null,"logout...")};function re(){var e=Object(m.i)().path;return r.a.createElement(b,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"".concat(e,"/register")},r.a.createElement(ae,null)),r.a.createElement(m.b,{path:"".concat(e,"/login")},r.a.createElement(Q,null)),r.a.createElement(m.b,{path:"".concat(e,"/logout")},r.a.createElement(ne,null)),r.a.createElement(m.b,{render:function(){return r.a.createElement("div",null,"404 Not Found")}})))}var ce=a(444),le=a(84),ie=a(43),oe=a(439),ue=a(447),se=a(71),me=p.a.Header,pe=function(){var e=Object(m.g)().pathname;return r.a.createElement(me,{className:"basicLayout--header"},r.a.createElement("div",{className:"logo"}),r.a.createElement(se.a,{theme:"dark",mode:"horizontal",selectedKeys:[e],style:{lineHeight:"64px"}},r.a.createElement(se.a.Item,{key:"/home"},r.a.createElement(O.a,{to:"/home"},"Home")),r.a.createElement(se.a.Item,{key:"/user/logout"},r.a.createElement(O.a,{to:"/user/logout"},"Logout"))))},de=p.a.Content,fe=p.a.Footer;function be(e){var t=Object(i.d)(),a=Object(i.e)((function(e){return e.user}));return Object(n.useEffect)((function(){a.id||t(z.init())}),[t,a.id]),a.loading?r.a.createElement("div",null,"loading..."):a.error?r.a.createElement("div",null,"Error."):r.a.createElement(p.a,{className:"basicLayout--container"},r.a.createElement(pe,null),r.a.createElement(de,{className:"basicLayout--content"},r.a.createElement("div",{className:"site-layout-content"},e.children)),r.a.createElement(fe,{className:"basicLayout--footer"}))}function Ee(e){var t=Object(i.e)((function(e){return e.user}));return r.a.createElement(be,null,r.a.createElement(ce.a,{icon:r.a.createElement(ue.a,null),title:"".concat(t.username,", Welcome to HandShake!")}),"student"===t.role?r.a.createElement(le.a,{gutter:16},r.a.createElement(ie.a,{span:8},r.a.createElement(oe.a,{title:"Profile",bordered:!1},r.a.createElement(j.a,{type:"primary",shape:"round"},r.a.createElement(O.a,{to:"/student/profile"},"Go")))),r.a.createElement(ie.a,{span:8},r.a.createElement(oe.a,{title:"Job Search",bordered:!1},r.a.createElement(j.a,{type:"primary",shape:"round"},r.a.createElement(O.a,{to:"/search"},"Go")))),r.a.createElement(ie.a,{span:8},r.a.createElement(oe.a,{title:"Applications",bordered:!1},r.a.createElement(j.a,{type:"primary",shape:"round"},r.a.createElement(O.a,{to:"/student/application"},"Go"))))):r.a.createElement(le.a,{gutter:16},r.a.createElement(ie.a,{span:8},r.a.createElement(oe.a,{title:"Company Profile",bordered:!1},r.a.createElement(j.a,{type:"primary",shape:"round"},r.a.createElement(O.a,{to:"/company/profile"},"Go")))),r.a.createElement(ie.a,{span:8},r.a.createElement(oe.a,{title:"Post Jobs",bordered:!1},r.a.createElement(j.a,{type:"primary",shape:"round"},r.a.createElement(O.a,{to:"/company/job/create"},"Go")))),r.a.createElement(ie.a,{span:8},r.a.createElement(oe.a,{title:"Job Postings",bordered:!1},r.a.createElement(j.a,{type:"primary",shape:"round"},r.a.createElement(O.a,{to:"/company/job"},"Go"))))))}var ye=a(445),he=function(e){return r.a.createElement(ye.a,{title:"Basic Info"},r.a.createElement(ye.a.Item,{label:"name"},e.name),r.a.createElement(ye.a.Item,{label:"birth"},e.birth_date),r.a.createElement(ye.a.Item,{label:"city"},e.city),r.a.createElement(ye.a.Item,{label:"state"},e.state),r.a.createElement(ye.a.Item,{label:"country"},e.country),r.a.createElement(ye.a.Item,{label:"skillset"},e.skillset),r.a.createElement(ye.a.Item,{label:"career objective"},e.career_objective))},ve=function(e){return r.a.createElement(ye.a,{title:"Education"},r.a.createElement(ye.a.Item,{label:"college"},e.college),r.a.createElement(ye.a.Item,{label:"major"},e.major),r.a.createElement(ye.a.Item,{label:"location"},e.location),r.a.createElement(ye.a.Item,{label:"degree"},e.degree),r.a.createElement(ye.a.Item,{label:"year_of_passing"},e.year_of_passing))},je=function(e){return e.items.map((function(e,t){return r.a.createElement(ye.a,{title:"experience ".concat(t+1),key:e.id||t},r.a.createElement(ye.a.Item,{label:"company_name"},e.company_name),r.a.createElement(ye.a.Item,{label:"title"},e.title),r.a.createElement(ye.a.Item,{label:"location"},e.location),r.a.createElement(ye.a.Item,{label:"start_date"},e.start_date),r.a.createElement(ye.a.Item,{label:"end_date"},e.end_date))}))},ge=function(e){return N.get("/student/".concat(e))},Oe=function(e,t){return N.post("/student/".concat(e),t)},we=function(e,t){return N.put("/student/".concat(e),t)},xe=function(e){return N.get("/student/".concat(e,"/applications"))},ke=Object(I.b)({name:"studentProfile",initialState:{loading:!1,error:null},reducers:{asyncStart:function(e){return Object(E.a)({},e,{loading:!0,error:null})},asyncFinish:function(e){return Object(E.a)({},e,{loading:!1,error:null})},asyncError:function(e){return Object(E.a)({},e,{loading:!1,error:null})},updateProfile:function(e,t){return Object(E.a)({},e,{},t.payload)}}}),Ie=ke.actions,_e=ke.reducer,Se=Ie.asyncStart,Pe=Ie.asyncFinish,Fe=Ie.asyncError,Ce=Ie.updateProfile,qe=function(e){return function(){var t=Object(k.a)(x.a.mark((function t(a){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Se()),t.prev=1,t.next=4,ge(e);case 4:n=t.sent,a(Ce(n)),a(Pe()),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(1),a(Fe(t.t0)),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},Te=function(e,t){return function(){var a=Object(k.a)(x.a.mark((function a(n){var r;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Se()),a.prev=1,a.next=4,Oe(e,t);case 4:r=a.sent,n(Ce(r)),n(Pe()),n(Object(_.d)("/student/profile")),a.next=14;break;case 10:throw a.prev=10,a.t0=a.catch(1),n(Fe(a.t0)),a.t0;case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},Ne=function(e,t){return function(){var a=Object(k.a)(x.a.mark((function a(n){var r;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Se()),a.prev=1,a.next=4,we(e,t);case 4:r=a.sent,console.log("result:",r),n(Ce(r)),n(Pe()),n(Object(_.d)("/student/profile")),a.next=15;break;case 11:throw a.prev=11,a.t0=a.catch(1),n(Fe(a.t0)),a.t0;case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()},Le=function(){var e=Object(i.e)((function(e){return{id:e.user.id,student:e.student}})),t=e.id,a=e.student,c=Object(i.d)();return Object(n.useEffect)((function(){t&&!a.id&&c(qe(t))}),[c,t,a.id]),a.loading?r.a.createElement("div",null,"loading..."):a.error?r.a.createElement("div",null,"error"):a.id?r.a.createElement("div",null,r.a.createElement(he,a.profileBasic),r.a.createElement(ve,a.profileEducation),r.a.createElement(je,{items:a.profileExperience}),r.a.createElement(j.a,{type:"primary"},r.a.createElement(O.a,{to:"/student/profile/edit"},"Edit"))):r.a.createElement("div",null,r.a.createElement("h3",null," You don't have a profile yet, please create one!"),r.a.createElement(j.a,{type:"primary"},r.a.createElement(O.a,{to:"/student/profile/create"},"Create")))},Be={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},Ve={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},Ae=function(e){var t=e.onSubmit,a=e.initialValues,n=void 0===a?{}:a,c=h.a.useForm(),l=Object(y.a)(c,1)[0];return r.a.createElement("div",{className:"register-form"},r.a.createElement(h.a,Object.assign({},Be,{form:l,name:"register",onFinish:function(e){t&&t(e)},initialValues:n,scrollToFirstError:!0}),r.a.createElement(h.a.Item,{label:"name",name:["profileBasic","name"],rules:[{required:!0,message:"Please input your nickname!",whitespace:!0}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{label:"birth_date",name:["profileBasic","birth_date"],rules:[{required:!0,message:"Please input your birth_date!",whitespace:!0}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{label:"city",name:["profileBasic","city"],rules:[{required:!0,message:"Please input your city!",whitespace:!0}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{label:"state",name:["profileBasic","state"],rules:[{required:!0,message:"Please input your state!",whitespace:!0}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{label:"country",name:["profileBasic","country"],rules:[{required:!0,message:"Please input your country!",whitespace:!0}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{label:"skillset",name:["profileBasic","skillset"],rules:[{required:!0,message:"Please input your skillset!",whitespace:!0}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{label:"career_objective",name:["profileBasic","career_objective"],rules:[{required:!0,message:"Please input your career_objective!",whitespace:!0}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,Ve,r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Submit"))))},Ge=function(){var e=Object(i.e)((function(e){return{id:e.user.id}})).id,t=Object(i.d)();return r.a.createElement("div",null,r.a.createElement(Ae,{onSubmit:function(a){t(Te(e,{basic:Object(E.a)({},a.profileBasic),education:{college_name:"University of Hogwarts",location:"Scottish Highlands",degree:"Master",major:"Software Engineering",year_of_passing:"2020-6-20"},experience:[{company_name:"LinkedIn",title:"sde intern",location:"sunnyvale",start_date:"2020-3-6",end_date:"2020-12-12"}]}))}}))},He=function(){var e=Object(i.e)((function(e){return{id:e.user.id,student:e.student}})),t=e.id,a=e.student,c=Object(i.d)();Object(n.useEffect)((function(){t&&!a.id&&c(qe(t))}),[c,t,a.id]);var l=function(){var e=Object(k.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(Ne(t,{basic:Object(E.a)({},n.profileBasic,{birth_date:"2020-3-6"}),education:Object(E.a)({},a.profileEducation,{year_of_passing:"2020-06-19",created_at:"2020-03-11",update_at:"2020-03-11"}),experience:[]}));case 3:q.a.success("Successfully updated."),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return a.loading?r.a.createElement("div",null,"loading..."):a.error?r.a.createElement("div",null,"error"):r.a.createElement("div",null,r.a.createElement(Ae,{initialValues:a,onSubmit:l}))},Ue=a(437);function Je(){var e=Object(n.useState)([]),t=Object(y.a)(e,2),a=t[0],c=t[1],l=Object(i.e)((function(e){return e.user}));Object(n.useEffect)((function(){function e(){return(e=Object(k.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(l.id);case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l.id&&function(){e.apply(this,arguments)}()}),[l.id]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue.a,{rowKey:"id",columns:[{title:"job_id",dataIndex:"job_id",key:"job_id"},{title:"status",dataIndex:"status",key:"status"}],dataSource:a,pagination:!1}))}function Ke(){var e=Object(m.i)().path;return r.a.createElement(be,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"".concat(e,"/profile")},r.a.createElement(Le,null)),r.a.createElement(m.b,{path:"".concat(e,"/profile/create")},r.a.createElement(Ge,null)),r.a.createElement(m.b,{path:"".concat(e,"/profile/edit")},r.a.createElement(He,null)),r.a.createElement(m.b,{path:"".concat(e,"/application")},r.a.createElement(Je,null)),r.a.createElement(m.b,{render:function(){return r.a.createElement("div",null,"404 Not Found")}})))}var Re=function(e){return r.a.createElement(ye.a,{title:"Basic Info"},r.a.createElement(ye.a.Item,{label:"name"},e.name),r.a.createElement(ye.a.Item,{label:"location"},e.location),r.a.createElement(ye.a.Item,{label:"description"},e.description),r.a.createElement(ye.a.Item,{label:"contact_email"},e.contact_email),r.a.createElement(ye.a.Item,{label:"contact_phone"},e.contact_phone))},Ye=function(e){return N.get("/company/".concat(e))},We=function(e,t){return N.post("/company/".concat(e),t)},ze=function(e,t){return N.put("/company/".concat(e),t)},De=function(e,t){return N.post("/job/".concat(e),t)},Me=function(e,t){return N.put("/job/".concat(e),t)},Qe=function(e,t){return N.get("/company/".concat(e,"/job/").concat(t,"/application"))},Xe=function(e,t,a,n){return N.put("/company/".concat(e,"/job/").concat(t,"/application/").concat(a),n)},Ze=Object(I.b)({name:"company",initialState:{loading:!1,error:null},reducers:{asyncStart:function(e){return Object(E.a)({},e,{loading:!0,error:null})},asyncFinish:function(e){return Object(E.a)({},e,{loading:!1,error:null})},asyncError:function(e){return Object(E.a)({},e,{loading:!1,error:null})},updateProfile:function(e,t){return Object(E.a)({},e,{},t.payload)}}}),$e=Ze.actions,et=Ze.reducer,tt=$e.asyncStart,at=$e.asyncFinish,nt=$e.asyncError,rt=$e.updateProfile,ct=function(e){return function(){var t=Object(k.a)(x.a.mark((function t(a){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(tt()),t.prev=1,t.next=4,Ye(e);case 4:n=t.sent,a(rt(n)),a(at()),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(1),a(nt(t.t0)),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},lt=function(e,t){return function(){var a=Object(k.a)(x.a.mark((function a(n){var r;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(tt()),a.prev=1,a.next=4,We(e,t);case 4:r=a.sent,n(rt(r)),n(at()),n(Object(_.d)("/company/profile")),a.next=14;break;case 10:throw a.prev=10,a.t0=a.catch(1),n(nt(a.t0)),a.t0;case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},it=function(e,t){return function(){var a=Object(k.a)(x.a.mark((function a(n){var r;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(tt()),a.prev=1,a.next=4,ze(e,t);case 4:r=a.sent,console.log("result:",r),n(rt(r)),n(at()),n(Object(_.d)("/company/profile")),a.next=15;break;case 11:throw a.prev=11,a.t0=a.catch(1),n(nt(a.t0)),a.t0;case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()},ot=function(){var e=Object(i.e)((function(e){return{id:e.user.id,company:e.company}})),t=e.id,a=e.company,c=Object(i.d)();return Object(n.useEffect)((function(){t&&!a.id&&c(ct(t))}),[c,t,a.id]),a.loading?r.a.createElement("div",null,"loading..."):a.error?r.a.createElement("div",null,"error"):a.id?r.a.createElement("div",null,r.a.createElement(Re,a),r.a.createElement(j.a,{type:"primary"},r.a.createElement(O.a,{to:"/company/profile/edit"},"Edit"))):r.a.createElement("div",null,r.a.createElement("h3",null," You don't have any profile, please create it!"),r.a.createElement(j.a,{type:"primary"},r.a.createElement(O.a,{to:"/company/profile/create"},"Create")))},ut={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},st={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},mt=function(e){var t=e.onSubmit,a=e.initialValues,n=void 0===a?{}:a,c=h.a.useForm(),l=Object(y.a)(c,1)[0];return r.a.createElement("div",{className:"register-form"},r.a.createElement(h.a,Object.assign({},ut,{form:l,name:"company_profile",onFinish:function(e){t&&t(e)},initialValues:n,scrollToFirstError:!0}),r.a.createElement(h.a.Item,{label:"name",name:"name",rules:[{required:!0,message:"Please input your name!",whitespace:!0}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{label:"location",name:"location",rules:[{required:!0,message:"Please input your location!",whitespace:!0}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{label:"description",name:"description",rules:[{required:!0,message:"Please input your description!",whitespace:!0}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{label:"contact_email",name:"contact_email",rules:[{required:!0,message:"Please input your contact_email!",whitespace:!0}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{label:"contact_phone",name:"contact_phone",rules:[{required:!0,message:"Please input your contact_phone!",whitespace:!0}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,st,r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Submit"))))},pt=function(){var e=Object(i.e)((function(e){return{id:e.user.id}})).id,t=Object(i.d)();return r.a.createElement("div",null,r.a.createElement(mt,{onSubmit:function(a){t(lt(e,Object(E.a)({},a)))}}))},dt=function(){var e=Object(i.e)((function(e){return{id:e.user.id,company:e.company}})),t=e.id,a=e.company,c=Object(i.d)();Object(n.useEffect)((function(){t&&!a.id&&c(ct(t))}),[c,t,a.id]);var l=function(){var e=Object(k.a)(x.a.mark((function e(a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(it(t,Object(E.a)({},a)));case 3:q.a.success("Updated successfully"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return a.loading?r.a.createElement("div",null,"loading..."):a.error?r.a.createElement("div",null,"error"):r.a.createElement("div",null,r.a.createElement(mt,{initialValues:a,onSubmit:l}))},ft=a(435),bt=function(e){var t=Object(i.e)((function(e){return e.user})),a=[{title:"Title",dataIndex:"title",key:"title"},{title:"Location",dataIndex:"location",key:"location"},{title:"Salary",dataIndex:"salary",key:"salary"},{title:"job_desc",dataIndex:"job_description",key:"job_description"},{title:"application_dealine",dataIndex:"application_dealine",key:"application_dealine"},{title:"Action",key:"action",render:function(e,a){return r.a.createElement("span",null,r.a.createElement(O.a,{to:"/company/job/".concat(a.id)},"modify"),r.a.createElement(ft.a,{type:"vertical"}),r.a.createElement(O.a,{to:"/company/".concat(t.id,"/job/").concat(a.id,"/applications")},"applications"))}}];return r.a.createElement(Ue.a,{rowKey:"id",dataSource:e.list,columns:a,pagination:!1})},Et=a(120),yt=Object(I.b)({name:"job",initialState:{loading:!1,error:null,list:[],application:[]},reducers:{asyncStart:function(e){return Object(E.a)({},e,{loading:!0,error:null})},asyncFinish:function(e){return Object(E.a)({},e,{loading:!1,error:null})},asyncError:function(e){return Object(E.a)({},e,{loading:!1,error:null})},updateOne:function(e,t){var a=e.list.findIndex((function(e){return e.id===t.payload.id}));e.list.splice(a,1,t.payload)},updateList:function(e,t){return Object(E.a)({},e,{list:Object(Et.a)(t.payload)})},updateApplication:function(e,t){return Object(E.a)({},e,{application:t.payload})},updateApplicationOne:function(e,t){var a=e.application.findIndex((function(e){return e.id===t.payload.id}));e.application.splice(a,1,t.payload)}}}),ht=yt.actions,vt=yt.reducer,jt=ht.asyncStart,gt=ht.asyncFinish,Ot=ht.asyncError,wt=ht.updateList,xt=ht.updateOne,kt=ht.updateApplication,It=ht.updateApplicationOne,_t=function(e){return function(){var t=Object(k.a)(x.a.mark((function t(a){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(jt()),t.prev=1,t.next=4,r=e,N.get("/company/".concat(r,"/job"));case 4:n=t.sent,a(wt(n)),a(gt()),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(1),a(Ot(t.t0)),t.t0;case 13:case"end":return t.stop()}var r}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},St=function(e){return function(){var t=Object(k.a)(x.a.mark((function t(a){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(jt()),t.prev=1,t.next=4,r=e,N.get("/job/".concat(r));case 4:return n=t.sent,a(xt(n)),a(gt()),t.abrupt("return",n);case 10:throw t.prev=10,t.t0=t.catch(1),a(Ot(t.t0)),t.t0;case 14:case"end":return t.stop()}var r}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},Pt=function(e,t){return function(){var a=Object(k.a)(x.a.mark((function a(n){var r;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(jt()),a.prev=1,a.next=4,De(e,t);case 4:r=a.sent,n(xt(r)),n(gt()),n(Object(_.d)("/company/job")),a.next=14;break;case 10:throw a.prev=10,a.t0=a.catch(1),n(Ot(a.t0)),a.t0;case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},Ft=function(e,t){return function(){var a=Object(k.a)(x.a.mark((function a(n){var r;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(jt()),a.prev=1,a.next=4,Me(e,t);case 4:r=a.sent,n(xt(r)),n(gt()),n(Object(_.d)("/company/job")),a.next=14;break;case 10:throw a.prev=10,a.t0=a.catch(1),n(Ot(a.t0)),a.t0;case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},Ct=function(e,t){return function(){var a=Object(k.a)(x.a.mark((function a(n){var r;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(jt()),a.prev=1,a.next=4,Qe(e,t);case 4:r=a.sent,n(kt(r)),n(gt()),a.next=13;break;case 9:throw a.prev=9,a.t0=a.catch(1),n(Ot(a.t0)),a.t0;case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},qt=function(e,t,a,n){return function(){var r=Object(k.a)(x.a.mark((function r(c){var l;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(jt()),r.prev=1,r.next=4,Xe(e,t,a,n);case 4:l=r.sent,c(It(l)),c(gt()),r.next=13;break;case 9:throw r.prev=9,r.t0=r.catch(1),c(Ot(r.t0)),r.t0;case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()},Tt=function(){var e=Object(i.e)((function(e){return{id:e.user.id,job:e.job}})),t=e.id,a=e.job,c=Object(i.d)();return Object(n.useEffect)((function(){t&&0===a.list.length&&c(_t(t))}),[c,t,a.list.length]),a.loading?r.a.createElement("div",null,"loading..."):a.error?r.a.createElement("div",null,"error"):0===a.length?r.a.createElement("div",null,r.a.createElement("h3",null," You don't have any job, please create it!"),r.a.createElement(j.a,{type:"primary"},r.a.createElement(O.a,{to:"/company/job/create"},"Create"))):r.a.createElement("div",null,r.a.createElement(bt,{list:a.list}))},Nt=a(443),Lt={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},Bt={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},Vt=function(e){var t=e.onSubmit,a=e.initialValues,n=void 0===a?{}:a,c=h.a.useForm(),l=Object(y.a)(c,1)[0];return r.a.createElement("div",{className:"register-form"},r.a.createElement(h.a,Object.assign({},Lt,{form:l,name:"company_profile",onFinish:function(e){t&&t(e)},initialValues:n,scrollToFirstError:!0}),r.a.createElement(h.a.Item,{label:"title",name:"title",rules:[{required:!0,message:"Please input your title!",whitespace:!0}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{label:"Category",name:"category",rules:[{required:!0,message:"Please input your category!",whitespace:!0}]},r.a.createElement(Z.a,null,r.a.createElement(Z.a.Option,{value:"full_time"},"Full-time"),r.a.createElement(Z.a.Option,{value:"part_time"},"Part-time"),r.a.createElement(Z.a.Option,{value:"intern"},"Intern"),r.a.createElement(Z.a.Option,{value:"on_campus"},"On-campus"))),r.a.createElement(h.a.Item,{label:"salary",name:"salary",rules:[{required:!0,message:"Please input your salary!"}]},r.a.createElement(Nt.a,null)),r.a.createElement(h.a.Item,{label:"location",name:"location",rules:[{required:!0,message:"Please input your location!",whitespace:!0}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{label:"job_description",name:"job_description",rules:[{required:!0,message:"Please input your job_description!",whitespace:!0}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,{label:"application_deadline",name:"application_deadline",rules:[{required:!0,message:"Please input your application_deadline!",whitespace:!0}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,Bt,r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Submit"))))},At=function(){var e=Object(i.e)((function(e){return{id:e.user.id}})).id,t=Object(i.d)();return r.a.createElement("div",null,r.a.createElement(Vt,{onSubmit:function(a){t(Pt(e,Object(E.a)({},a,{application_deadline:"2020-6-20"})))}}))},Gt=function(){var e=Object(m.h)().jid,t=Object(i.e)((function(e){return{job:e.job}})).job,a=t.list.find((function(t){return t.id===Number(e)})),c=Object(i.d)();Object(n.useEffect)((function(){a||c(St(e))}),[a,c,e]);var l=function(){var t=Object(k.a)(x.a.mark((function t(a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c(Ft(e,Object(E.a)({},a,{application_deadline:"2020-6-20"})));case 3:q.a.success("Update successfully!"),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return t.loading?r.a.createElement("div",null,"loading..."):t.error?r.a.createElement("div",null,"error"):r.a.createElement("div",null,r.a.createElement(Vt,{initialValues:a,onSubmit:l}))},Ht=a(440),Ut=Z.a.Option,Jt=function(e){var t=e.initial,a=e.visible,n=e.onSubmit,c=e.onCancel,l=h.a.useForm(),i=Object(y.a)(l,1)[0];return r.a.createElement(Ht.a,{visible:a,title:"Change status",okText:"Change",cancelText:"Cancel",onCancel:c,onOk:function(){i.validateFields().then((function(e){i.resetFields(),n(e)})).catch((function(e){console.log("Validate Failed:",e)}))}},r.a.createElement(h.a,{form:i,layout:"vertical",name:"form_in_modal",initialValues:t},r.a.createElement(h.a.Item,{name:"status",label:"status",rules:[{required:!0,message:"Please select!"}]},r.a.createElement(Z.a,{placeholder:"Select a option and change input text above",allowClear:!0},r.a.createElement(Ut,{value:"pending"},"pending"),r.a.createElement(Ut,{value:"reviewed"},"reviewed"),r.a.createElement(Ut,{value:"declined"},"declined")))))},Kt=function(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(null),u=Object(y.a)(o,2),s=u[0],m=u[1],p=Object(i.d)(),d=[{title:"id",dataIndex:"id",key:"id"},{title:"resume",dataIndex:"resume",key:"resume"},{title:"status",dataIndex:"status",key:"status"},{title:"Action",key:"action",render:function(e,t){return r.a.createElement("span",null,r.a.createElement(j.a,{onClick:function(){m(t),l(!0)}},"Change Status"))}}],f=function(){var t=Object(k.a)(x.a.mark((function t(a){var n,r,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("handleSubmit:",a),n=e.uid,r=e.jid,c=s.id,t.prev=3,t.next=6,p(qt(n,r,c,a));case 6:q.a.success("change success"),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue.a,{rowKey:"id",dataSource:e.list,columns:d,pagination:!1}),r.a.createElement(Jt,{visible:c,initial:s,onSubmit:f,onCancel:function(){l(!1),m(null)}}))},Rt=function(){var e=Object(m.h)(),t=e.uid,a=e.jid,c=Object(i.e)((function(e){return{job:e.job,application:e.job.application}})),l=c.job,o=c.application,u=Object(i.d)();return console.log("Hi"),Object(n.useEffect)((function(){u(Ct(t,a))}),[u,t,a]),l.loading?r.a.createElement("div",null,"loading..."):l.error?r.a.createElement("div",null,"error"):0===o.length?r.a.createElement("div",null,r.a.createElement("h3",null," This job has no application!"),r.a.createElement(j.a,{type:"primary"},r.a.createElement(O.a,{to:"/company/job"},"Go Back"))):r.a.createElement("div",null,r.a.createElement(Kt,{list:o,uid:t,jid:a}))};function Yt(){var e=Object(m.i)().path;return r.a.createElement(be,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"".concat(e,"/profile")},r.a.createElement(ot,null)),r.a.createElement(m.b,{path:"".concat(e,"/profile/create")},r.a.createElement(pt,null)),r.a.createElement(m.b,{path:"".concat(e,"/profile/edit")},r.a.createElement(dt,null)),r.a.createElement(m.b,{exact:!0,path:"".concat(e,"/job")},r.a.createElement(Tt,null)),r.a.createElement(m.b,{path:"".concat(e,"/job/create")},r.a.createElement(At,null)),r.a.createElement(m.b,{path:"".concat(e,"/job/:jid")},r.a.createElement(Gt,null)),r.a.createElement(m.b,{path:"".concat(e,"/:uid/job/:jid/applications")},r.a.createElement(Rt,null)),r.a.createElement(m.b,{render:function(){return r.a.createElement("div",null,"404 Not Found")}})))}var Wt=a(436),zt=function(e){var t=h.a.useForm(),a=Object(y.a)(t,1)[0];return r.a.createElement(h.a,{form:a,name:"advanced_search",className:"ant-advanced-search-form",onFinish:function(t){e.onSubmit&&e.onSubmit(t)}},r.a.createElement(le.a,{gutter:24},r.a.createElement(ie.a,{span:8},r.a.createElement(h.a.Item,{name:"keyword",label:"keyword",rules:[{required:!0,message:"Input something!"}]},r.a.createElement(v.a,{placeholder:"search with title or company_name"}))),r.a.createElement(ie.a,{span:8},r.a.createElement(h.a.Item,{name:"jobCategory",label:"category"},r.a.createElement(v.a,{placeholder:"job category"}))),r.a.createElement(ie.a,{span:8},r.a.createElement(h.a.Item,{name:"jobLocation",label:"location"},r.a.createElement(v.a,{placeholder:"job location"})))),r.a.createElement(le.a,null,r.a.createElement(ie.a,{span:24,style:{textAlign:"right"}},r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Search"),r.a.createElement(j.a,{style:{marginLeft:8},onClick:function(){a.resetFields()}},"Clear"))))};function Dt(e){var t=Object(n.useState)([]),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(i.e)((function(e){return e.user})),u=function(){var e=Object(k.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n=t,N.get("/search?".concat(P.a.stringify(n)));case 3:a=e.sent,l(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("e:",e.t0);case 10:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(k.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a=o.id,n=t.id,N.post("/student/".concat(a,"/job/").concat(n,"/apply"),{resume:"TBD"});case 3:q.a.success("Applied Successfully!"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("e:",e.t0);case 9:case"end":return e.stop()}var a,n}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),m=[{title:"Title",dataIndex:"title",key:"title"},{title:"Location",dataIndex:"location",key:"location"},{title:"Salary",dataIndex:"salary",key:"salary"},{title:"job desc",dataIndex:"job_description",key:"job_description"},{title:"application_deadline",dataIndex:"application_deadline",key:"application_deadline"},{title:"Action",key:"action",render:function(e,t){return r.a.createElement(Wt.a,{title:"Want to apply?",onConfirm:function(){return s(t)},okText:"Yes",cancelText:"No"},r.a.createElement(j.a,null,"apply"))}}];return r.a.createElement(be,null,r.a.createElement(zt,{onSubmit:u}),r.a.createElement(Ue.a,{rowKey:"id",columns:m,dataSource:c}))}function Mt(){return r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/home"},r.a.createElement(Ee,null)),r.a.createElement(m.b,{path:"/user"},r.a.createElement(re,null)),r.a.createElement(m.b,{path:"/student"},r.a.createElement(Ke,null)),r.a.createElement(m.b,{path:"/company"},r.a.createElement(Yt,null)),r.a.createElement(m.b,{path:"/search"},r.a.createElement(Dt,null)),r.a.createElement(m.a,{to:"/home"}))}var Qt,Xt=a(185),Zt=Object(I.b)({name:"global",initialState:{count:0},reducers:{increment:function(e){return Object(E.a)({},e,{count:e.count+1})}}}),$t=(Zt.actions,Zt.reducer),ea=(Qt=u,Object(g.combineReducers)({router:Object(s.b)(Qt),global:$t,user:H,student:_e,company:et,job:vt})),ta=[Object(Xt.a)(u)].concat(Object(Et.a)(Object(I.c)())),aa=[];a(432);var na,ra=Object(I.a)({reducer:ea,middleware:ta,preloadedState:na,enhancers:aa});l.a.render(r.a.createElement((function(e){return r.a.createElement(i.a,{store:e.store},r.a.createElement(s.a,{history:u},r.a.createElement(Mt,null)))}),{store:ra}),document.getElementById("root"))}},[[218,1,2]]]);
//# sourceMappingURL=main.e3c3073d.chunk.js.map